<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="../../build/css/main.css" />
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>

</head>

<body>
    <div id="app">
        <carousel-component>
            <carousel-item>
                <img src="../images/HEADER.png" alt="Slide image 1">
            </carousel-item>
            <carousel-item>
                <img src="../images/HEADER.png" alt="Slide image 1">
            </carousel-item>
            <carousel-item>
                <img src="../images/HEADER.png" alt="Slide image 1">
            </carousel-item>
            <carousel-item>
                <img src="../images/HEADER.png" alt="Slide image 1">
            </carousel-item>
        </carousel-component>
    </div>


    <script>
        Vue.component('carousel-component', {
            render: function (createElement) {
                return createElement('div', { class: 'carousel-component' },
                    this.items.map((item, index) =>
                        createElement('div', {
                            'class': 'carousel-page' + (this.current === index ? ' active' : ''),
                            style: {
                                transform: `translate3d(${this.position(index) * 100}%, 0, 0)`,
                            }
                        }, [item])
                    ).concat([
                        createElement('button', {
                            'class': 'carousel-nav-prev',
                            on: { click: () => { this.decreaseCurrent(); } }
                        }, 'Prev'),
                        createElement('button', {
                            'class': 'carousel-nav-next',
                            on: { click: () => { this.increaseCurrent(); } }
                        }, 'Next')
                    ])
                );
            },
            data: function () {
                return {
                    current: 0
                };
            },
            computed: {
                items: function () {
                    return this.$slots.default.filter(function (item) {
                        return item.componentOptions !== undefined &&
                            item.componentOptions.tag === 'carousel-item';
                    });
                }
            },
            methods: {
                decreaseCurrent: function () {
                    this.current += this.items.length - 1;
                    this.current %= this.items.length;
                },
                increaseCurrent: function () {
                    this.current += 1;
                    this.current %= this.items.length;
                },
                position: function (index) {
                    if (index === this.current) return 0;
                    if (index === (this.current + 1) % this.items.length) return 1;
                    return -1;
                }
            }
        });

        Vue.component('carousel-item', {
            render: function (createElement) {
                return createElement('div', { class: 'carousel-item' }, this.$slots.default);
            }
        });

        new Vue({
            el: '#app'
        });
    </script>
</body>